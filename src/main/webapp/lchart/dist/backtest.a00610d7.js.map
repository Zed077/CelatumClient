{"mappings":"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","sources":["backtest.js"],"sourcesContent":["var runData = null;\r\nvar runDataIndex = 0;\r\nvar instrumentData = null;\r\n\r\nfunction getRuns() {\r\n  fetch(\"http://localhost:8080/Celatum/HelloWorld?method=runs\")\r\n    .then(function (response) {\r\n      return response.json();\r\n    })\r\n    .then(function (data) {\r\n      displayRuns(data);\r\n    })\r\n    .catch(function (err) {\r\n      console.log('error: ' + err);\r\n    });\r\n}\r\n\r\nfunction displayRuns(data) {\r\n  // <option value=\"volvo\">Volvo</option>\r\n\r\n  runData = data;\r\n  var container = document.getElementById(\"runs\");\r\n\r\n  for (var i = 0; i < data.length; i++) {\r\n    var div = document.createElement(\"option\");\r\n    div.innerHTML = data[i].runDate + \" \" + data[i].type;\r\n    div.value = i;\r\n    container.appendChild(div);\r\n  }\r\n\r\n  getInstruments(0);\r\n}\r\n\r\nfunction getInstruments(i) {\r\n  runDataIndex = i;\r\n\r\n  var description = document.getElementById(\"description\");\r\n  description.innerHTML = runData[i].algoDescription;\r\n\r\n  var stats = document.getElementById(\"statistics\");\r\n  stats.innerHTML = runData[i].algoStatistics;\r\n\r\n  fetch(\"http://localhost:8080/Celatum/HelloWorld?method=runs&algorunref=\" + runData[i].algoRunRef)\r\n    .then(function (response) {\r\n      return response.json();\r\n    })\r\n    .then(function (data) {\r\n      displayInstrument(data);\r\n    })\r\n    .catch(function (err) {\r\n      console.log('error: ' + err);\r\n    });\r\n}\r\n\r\nfunction displayInstrument(data) {\r\n  instrumentData = data;\r\n\r\n  var container = document.getElementById(\"instruments\");\r\n\r\n  // remove all children\r\n  var child = container.lastElementChild;\r\n  while (child) {\r\n    container.removeChild(child);\r\n    child = e.lastElementChild;\r\n  }\r\n\r\n  // add new ones\r\n  for (var i = 0; i < data.length; i++) {\r\n    var div = document.createElement(\"option\");\r\n    div.innerHTML = data[i].name;\r\n    container.appendChild(div);\r\n  }\r\n\r\n  populateChart(0);\r\n}\r\n\r\nfunction populateChart(instIndex) {\r\n  // Get histories\r\n  fetch(\"http://localhost:8080/Celatum/HelloWorld?method=history&instrumentname=\" + instrumentData[instIndex].name)\r\n    .then(function (response) {\r\n      return response.json().then((data) => {\r\n        candleSeries.setData(data.map(candle => {\r\n          return {\r\n            time: candle.time,\r\n            open: candle.open,\r\n            high: candle.high,\r\n            low: candle.low,\r\n            close: candle.close,\r\n          };\r\n        }));\r\n      });\r\n    });\r\n\r\n  // Get positions\r\n  fetch(\"http://localhost:8080/Celatum/HelloWorld?method=runs&algorunref=\" + runData[runDataIndex].algoRunRef + \"&instrumentname=\" + instrumentData[instIndex].name)\r\n    .then(function (response) {\r\n      return response.json();\r\n    })\r\n    .then(function (data) {\r\n      displayPositions(data);\r\n    })\r\n    .catch(function (err) {\r\n      console.log('error: ' + err);\r\n    });\r\n}\r\n\r\nfunction displayPositions(data) {\r\n  var markers = null;\r\n  for (var i = 0; i < data.length; i++) {\r\n    markers.push({ time: data[i].entryDate, position: 'belowBar', color: '#2196F3', shape: 'arrowUp', text: data[i].description });\r\n    markers.push({ time: data[i].closeDate, position: 'aboveBar', color: '#e91e63', shape: 'arrowDown', text: data[i].description });\r\n  }\r\n  candleSeries.setMarkers(markers);\r\n}"],"names":[],"version":3,"file":"backtest.a00610d7.js.map","sourceRoot":"/__parcel_source_root/"}